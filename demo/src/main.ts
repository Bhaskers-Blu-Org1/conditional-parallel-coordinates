import * as $ from "jquery";
import {SampleDataset} from "./SampleDataset";
import * as _ds from "./../../src/ts/Dataset";
import {CPC} from "./../../src/ts/CPC";
import {CPCLine} from "./../../src/ts/CPCLine";
import {CPCConfiguration} from "./../../src/ts/CPCConfiguration";
import "./css/style.css";

$(document).ready(function() {

    // load data set
    let ds:_ds.Dataset = new SampleDataset().get();
    //let data = {"axes":[{"id":"pipeline_ids","label":"Pipeline","type":1,"range":{"min":8,"max":1},"editable":true,"background":"#cbd5e833","choices":[]},{"id":"edge_0_1","label":"edge_0_1","type":0,"editable":true,"weight":2,"choices":[{"id":"edge_0_1#null","label":"None"},{"id":"edge_0_1#QuantileTransformerTransformer","label":"QuantileTransformerTransformer","axes":[{"id":"edge_0_1#QuantileTransformerTransformer#copy","label":"copy","type":1,"range":{"min":1,"max":1},"editable":true,"choices":[]},{"id":"edge_0_1#QuantileTransformerTransformer#ignore_implicit_zeros","label":"ignore_implicit_zeros","type":1,"range":{"min":0,"max":0},"editable":true,"choices":[]},{"id":"edge_0_1#QuantileTransformerTransformer#n_quantiles","label":"n_quantiles","type":1,"range":{"min":903,"max":903},"editable":true,"choices":[]},{"id":"edge_0_1#QuantileTransformerTransformer#output_distribution","label":"output_distribution","type":0,"editable":true,"choices":[{"id":"edge_0_1#QuantileTransformerTransformer#output_distribution#normal","label":"normal"}]},{"id":"edge_0_1#QuantileTransformerTransformer#random_state","label":"random_state","type":1,"range":{"min":33,"max":33},"editable":true,"choices":[]},{"id":"edge_0_1#QuantileTransformerTransformer#subsample","label":"subsample","type":1,"range":{"min":100000,"max":100000},"editable":true,"choices":[]}]},{"id":"edge_0_1#MinMaxScalerTransformer","label":"MinMaxScalerTransformer","axes":[{"id":"edge_0_1#MinMaxScalerTransformer#copy","label":"copy","type":1,"range":{"min":1,"max":1},"editable":true,"choices":[]},{"id":"edge_0_1#MinMaxScalerTransformer#feature_range","label":"feature_range","type":0,"editable":true,"choices":[{"id":"edge_0_1#MinMaxScalerTransformer#feature_range#0,1","label":[0,1]}]}]},{"id":"edge_0_1#RobustScalerTransformer","label":"RobustScalerTransformer","axes":[{"id":"edge_0_1#RobustScalerTransformer#copy","label":"copy","type":1,"range":{"min":1,"max":1},"editable":true,"choices":[]},{"id":"edge_0_1#RobustScalerTransformer#quantile_range","label":"quantile_range","type":0,"editable":true,"choices":[{"id":"edge_0_1#RobustScalerTransformer#quantile_range#25,75","label":[25,75]}]},{"id":"edge_0_1#RobustScalerTransformer#with_centering","label":"with_centering","type":1,"range":{"min":0,"max":0},"editable":true,"choices":[]},{"id":"edge_0_1#RobustScalerTransformer#with_scaling","label":"with_scaling","type":1,"range":{"min":0,"max":0},"editable":true,"choices":[]}]}]},{"id":"edge_1_2","label":"edge_1_2","type":0,"editable":true,"weight":2,"choices":[{"id":"edge_1_2#null","label":"None"},{"id":"edge_1_2#RBFSamplerTransformer","label":"RBFSamplerTransformer","axes":[{"id":"edge_1_2#RBFSamplerTransformer#gamma","label":"gamma","type":1,"range":{"min":4.9798122091558765,"max":4.9798122091558765},"editable":true,"choices":[]},{"id":"edge_1_2#RBFSamplerTransformer#n_components","label":"n_components","type":1,"range":{"min":177,"max":177},"editable":true,"choices":[]},{"id":"edge_1_2#RBFSamplerTransformer#random_state","label":"random_state","type":1,"range":{"min":33,"max":33},"editable":true,"choices":[]}]},{"id":"edge_1_2#PCATransformer","label":"PCATransformer","axes":[{"id":"edge_1_2#PCATransformer#copy","label":"copy","type":1,"range":{"min":1,"max":1},"editable":true,"choices":[]},{"id":"edge_1_2#PCATransformer#iterated_power","label":"iterated_power","type":0,"editable":true,"choices":[{"id":"edge_1_2#PCATransformer#iterated_power#auto","label":"auto"}]},{"id":"edge_1_2#PCATransformer#n_components","label":"n_components","type":1,"range":{"min":0.9500015792319255,"max":0.9500015792319255},"editable":true,"choices":[]},{"id":"edge_1_2#PCATransformer#random_state","label":"random_state","type":1,"range":{"min":33,"max":33},"editable":true,"choices":[]},{"id":"edge_1_2#PCATransformer#svd_solver","label":"svd_solver","type":0,"editable":true,"choices":[{"id":"edge_1_2#PCATransformer#svd_solver#auto","label":"auto"}]},{"id":"edge_1_2#PCATransformer#tol","label":"tol","type":1,"range":{"min":0,"max":0},"editable":true,"choices":[]},{"id":"edge_1_2#PCATransformer#whiten","label":"whiten","type":1,"range":{"min":0,"max":0},"editable":true,"choices":[]}]}]},{"id":"edge_2_3","label":"edge_2_3","type":0,"editable":true,"weight":2,"choices":[{"id":"edge_2_3#XGBClassifierEstimator","label":"XGBClassifierEstimator","css_class":"container_color_1","axes":[{"id":"edge_2_3#XGBClassifierEstimator#booster","label":"booster","type":0,"editable":true,"choices":[{"id":"edge_2_3#XGBClassifierEstimator#booster#gbtree","label":"gbtree"}]},{"id":"edge_2_3#XGBClassifierEstimator#gamma","label":"gamma","type":1,"range":{"min":0.14553898038471702,"max":0.9571669482429456},"editable":true,"choices":[]},{"id":"edge_2_3#XGBClassifierEstimator#learning_rate","label":"learning_rate","type":1,"range":{"min":0.03770494520858073,"max":0.6866813207862563},"editable":true,"choices":[]},{"id":"edge_2_3#XGBClassifierEstimator#max_depth","label":"max_depth","type":1,"range":{"min":3,"max":19},"editable":true,"choices":[]},{"id":"edge_2_3#XGBClassifierEstimator#min_child_weight","label":"min_child_weight","type":1,"range":{"min":2,"max":19},"editable":true,"choices":[]},{"id":"edge_2_3#XGBClassifierEstimator#n_estimators","label":"n_estimators","type":1,"range":{"min":878,"max":1421},"editable":true,"choices":[]},{"id":"edge_2_3#XGBClassifierEstimator#n_jobs","label":"n_jobs","type":1,"range":{"min":4,"max":4},"editable":true,"choices":[]},{"id":"edge_2_3#XGBClassifierEstimator#random_state","label":"random_state","type":1,"range":{"min":33,"max":33},"editable":true,"choices":[]},{"id":"edge_2_3#XGBClassifierEstimator#reg_alpha","label":"reg_alpha","type":1,"range":{"min":0.07755703165907102,"max":0.9157355251890671},"editable":true,"choices":[]},{"id":"edge_2_3#XGBClassifierEstimator#reg_lambda","label":"reg_lambda","type":1,"range":{"min":0.21686187299319623,"max":0.8955717451620936},"editable":true,"choices":[]},{"id":"edge_2_3#XGBClassifierEstimator#scale_pos_weight","label":"scale_pos_weight","type":1,"range":{"min":1,"max":1},"editable":true,"choices":[]},{"id":"edge_2_3#XGBClassifierEstimator#subsample","label":"subsample","type":1,"range":{"min":0.018012970414051695,"max":0.959897502128974},"editable":true,"choices":[]},{"id":"edge_2_3#XGBClassifierEstimator#tree_method","label":"tree_method","type":0,"editable":true,"choices":[{"id":"edge_2_3#XGBClassifierEstimator#tree_method#hist","label":"hist"}]}]},{"id":"edge_2_3#ExtraTreesClassifierEstimator","label":"ExtraTreesClassifierEstimator","css_class":"container_color_2","axes":[{"id":"edge_2_3#ExtraTreesClassifierEstimator#bootstrap","label":"bootstrap","type":1,"range":{"min":1,"max":1},"editable":true,"choices":[]},{"id":"edge_2_3#ExtraTreesClassifierEstimator#class_weight","label":"class_weight","type":0,"editable":true,"choices":[{"id":"edge_2_3#ExtraTreesClassifierEstimator#class_weight#balanced","label":"balanced"}]},{"id":"edge_2_3#ExtraTreesClassifierEstimator#coalesced_oob_score_bootstrap","label":"coalesced_oob_score_bootstrap","type":1,"range":{"min":0,"max":0},"editable":true,"choices":[]},{"id":"edge_2_3#ExtraTreesClassifierEstimator#criterion","label":"criterion","type":0,"editable":true,"choices":[{"id":"edge_2_3#ExtraTreesClassifierEstimator#criterion#entropy","label":"entropy"}]},{"id":"edge_2_3#ExtraTreesClassifierEstimator#max_depth","label":"max_depth","type":1,"range":{"min":0,"max":0},"editable":true,"choices":[]},{"id":"edge_2_3#ExtraTreesClassifierEstimator#max_features","label":"max_features","type":1,"range":{"min":0.20567588577022533,"max":0.20567588577022533},"editable":true,"choices":[]},{"id":"edge_2_3#ExtraTreesClassifierEstimator#max_leaf_nodes","label":"max_leaf_nodes","type":1,"range":{"min":0,"max":0},"editable":true,"choices":[]},{"id":"edge_2_3#ExtraTreesClassifierEstimator#min_impurity_decrease","label":"min_impurity_decrease","type":1,"range":{"min":0,"max":0},"editable":true,"choices":[]},{"id":"edge_2_3#ExtraTreesClassifierEstimator#min_impurity_split","label":"min_impurity_split","type":1,"range":{"min":0,"max":0},"editable":true,"choices":[]},{"id":"edge_2_3#ExtraTreesClassifierEstimator#min_samples_leaf","label":"min_samples_leaf","type":1,"range":{"min":12,"max":12},"editable":true,"choices":[]},{"id":"edge_2_3#ExtraTreesClassifierEstimator#min_samples_split","label":"min_samples_split","type":1,"range":{"min":4,"max":4},"editable":true,"choices":[]},{"id":"edge_2_3#ExtraTreesClassifierEstimator#min_weight_fraction_leaf","label":"min_weight_fraction_leaf","type":1,"range":{"min":0,"max":0},"editable":true,"choices":[]},{"id":"edge_2_3#ExtraTreesClassifierEstimator#n_estimators","label":"n_estimators","type":1,"range":{"min":99,"max":99},"editable":true,"choices":[]},{"id":"edge_2_3#ExtraTreesClassifierEstimator#n_jobs","label":"n_jobs","type":1,"range":{"min":4,"max":4},"editable":true,"choices":[]},{"id":"edge_2_3#ExtraTreesClassifierEstimator#oob_score","label":"oob_score","type":1,"range":{"min":1,"max":1},"editable":true,"choices":[]},{"id":"edge_2_3#ExtraTreesClassifierEstimator#random_state","label":"random_state","type":1,"range":{"min":33,"max":33},"editable":true,"choices":[]},{"id":"edge_2_3#ExtraTreesClassifierEstimator#verbose","label":"verbose","type":1,"range":{"min":0,"max":0},"editable":true,"choices":[]},{"id":"edge_2_3#ExtraTreesClassifierEstimator#warm_start","label":"warm_start","type":1,"range":{"min":0,"max":0},"editable":true,"choices":[]}]},{"id":"edge_2_3#QuadraticDiscriminantAnalysisEstimator","label":"QuadraticDiscriminantAnalysisEstimator","css_class":"container_color_3","axes":[{"id":"edge_2_3#QuadraticDiscriminantAnalysisEstimator#priors","label":"priors","type":1,"range":{"min":0,"max":0},"editable":true,"choices":[]},{"id":"edge_2_3#QuadraticDiscriminantAnalysisEstimator#reg_param","label":"reg_param","type":1,"range":{"min":0.7819091491986683,"max":0.7819091491986683},"editable":true,"choices":[]},{"id":"edge_2_3#QuadraticDiscriminantAnalysisEstimator#store_covariance","label":"store_covariance","type":1,"range":{"min":0,"max":0},"editable":true,"choices":[]},{"id":"edge_2_3#QuadraticDiscriminantAnalysisEstimator#store_covariances","label":"store_covariances","type":1,"range":{"min":0,"max":0},"editable":true,"choices":[]},{"id":"edge_2_3#QuadraticDiscriminantAnalysisEstimator#tol","label":"tol","type":1,"range":{"min":0.0001,"max":0.0001},"editable":true,"choices":[]}]},{"id":"edge_2_3#GaussianNBEstimator","label":"GaussianNBEstimator","css_class":"container_color_4","axes":[{"id":"edge_2_3#GaussianNBEstimator#priors","label":"priors","type":1,"range":{"min":0,"max":0},"editable":true,"choices":[]},{"id":"edge_2_3#GaussianNBEstimator#var_smoothing","label":"var_smoothing","type":1,"range":{"min":1e-9,"max":1e-9},"editable":true,"choices":[]}]}]},{"id":"AvgPredTime","label":"AvgPredTime","type":1,"range":{"min":0.1352155787513766,"max":0.003930353751638904},"threshold":0.01,"editable":true,"background":"#FFFF8333","choices":[]},{"id":"FalsePositiveRate","label":"FalsePositiveRate","type":1,"range":{"min":0.10625,"max":0},"threshold":0.1,"editable":true,"background":"#FFFF8333","choices":[]},{"id":"PipelineSizeInMemory","label":"PipelineSizeInMemory","type":1,"range":{"min":0.15279769897460938,"max":0.004113197326660156},"threshold":1,"editable":true,"background":"#FFFF8333","choices":[]},{"id":"AbsStatisticalParityDiff","label":"AbsStatisticalParityDiff","type":1,"range":{"min":0.1339150864238967,"max":0},"threshold":0.08,"editable":true,"background":"#FFFF8333","choices":[]},{"id":"AbsErrorRateDiff","label":"AbsErrorRateDiff","type":1,"range":{"min":0.20305420372545735,"max":0.01023661688202715},"threshold":0.1,"editable":true,"background":"#FFFF8333","choices":[]},{"id":"training_accuracy","label":"training training_accuracy","type":1,"default":"0.5","range":{"min":0,"max":1},"background":"#4575bf22","editable":false},{"id":"training_average_precision","label":"training training_average_precision","type":1,"default":"0.5","range":{"min":0,"max":1},"background":"#4575bf22","editable":false},{"id":"training_f1","label":"training training_f1","type":1,"default":"0.5","range":{"min":0,"max":1},"background":"#4575bf22","editable":false},{"id":"training_precision","label":"training training_precision","type":1,"default":"0.5","range":{"min":0,"max":1},"background":"#4575bf22","editable":false},{"id":"training_recall","label":"training training_recall","type":1,"default":"0.5","range":{"min":0,"max":1},"background":"#4575bf22","editable":false},{"id":"training_roc_auc","label":"training training_roc_auc","type":1,"default":"0.5","range":{"min":0,"max":1},"background":"#4575bf22","editable":false}],"lines":[{"id":"P1","selections":[{"id":"pipeline_ids","value":"1"},{"id":"edge_0_1","value":"edge_0_1#null"},{"id":"edge_1_2","value":"edge_1_2#null"},{"id":"edge_2_3","value":"edge_2_3#XGBClassifierEstimator","selections":[{"id":"edge_2_3#XGBClassifierEstimator#base_score","value":0.5},{"id":"edge_2_3#XGBClassifierEstimator#booster","value":"edge_2_3#XGBClassifierEstimator#booster#gbtree"},{"id":"edge_2_3#XGBClassifierEstimator#colsample_bylevel","value":1},{"id":"edge_2_3#XGBClassifierEstimator#colsample_bynode","value":1},{"id":"edge_2_3#XGBClassifierEstimator#colsample_bytree","value":1},{"id":"edge_2_3#XGBClassifierEstimator#gamma","value":0.9571669482429456},{"id":"edge_2_3#XGBClassifierEstimator#learning_rate","value":0.6626258851734551},{"id":"edge_2_3#XGBClassifierEstimator#max_delta_step","value":0},{"id":"edge_2_3#XGBClassifierEstimator#max_depth","value":15},{"id":"edge_2_3#XGBClassifierEstimator#min_child_weight","value":19},{"id":"edge_2_3#XGBClassifierEstimator#missing","value":null},{"id":"edge_2_3#XGBClassifierEstimator#n_estimators","value":878},{"id":"edge_2_3#XGBClassifierEstimator#n_jobs","value":4},{"id":"edge_2_3#XGBClassifierEstimator#nthread","value":null},{"id":"edge_2_3#XGBClassifierEstimator#objective","value":"edge_2_3#XGBClassifierEstimator#objective#binary:logistic"},{"id":"edge_2_3#XGBClassifierEstimator#random_state","value":33},{"id":"edge_2_3#XGBClassifierEstimator#reg_alpha","value":0.9157355251890671},{"id":"edge_2_3#XGBClassifierEstimator#reg_lambda","value":0.812986596603599},{"id":"edge_2_3#XGBClassifierEstimator#scale_pos_weight","value":1},{"id":"edge_2_3#XGBClassifierEstimator#seed","value":null},{"id":"edge_2_3#XGBClassifierEstimator#silent","value":null},{"id":"edge_2_3#XGBClassifierEstimator#subsample","value":0.959897502128974},{"id":"edge_2_3#XGBClassifierEstimator#tree_method","value":"edge_2_3#XGBClassifierEstimator#tree_method#hist"},{"id":"edge_2_3#XGBClassifierEstimator#verbosity","value":1}]},{"id":"AvgPredTime","value":0.005287003750345321},{"id":"FalsePositiveRate","value":0.0625},{"id":"PipelineSizeInMemory","value":0.007244110107421875},{"id":"AbsStatisticalParityDiff","value":0.02936734351401249},{"id":"AbsErrorRateDiff","value":0.022319181070649452},{"id":"training_accuracy","value":0.79375},{"id":"training_average_precision","value":0.5368412536881659},{"id":"training_f1","value":0.8607594936708861},{"id":"training_precision","value":0.816},{"id":"training_recall","value":0.9107142857142857},{"id":"training_roc_auc","value":0.8249627976190477},{"id":"training_neg_log_loss","value":-0.4655432920320891},{"id":"training_normalized_gini_coefficient","value":0.45610119047619097}],"css_class":" edge_color_1"},{"id":"P2","selections":[{"id":"pipeline_ids","value":"2"},{"id":"edge_0_1","value":"edge_0_1#null"},{"id":"edge_1_2","value":"edge_1_2#null"},{"id":"edge_2_3","value":"edge_2_3#XGBClassifierEstimator","selections":[{"id":"edge_2_3#XGBClassifierEstimator#base_score","value":0.5},{"id":"edge_2_3#XGBClassifierEstimator#booster","value":"edge_2_3#XGBClassifierEstimator#booster#gbtree"},{"id":"edge_2_3#XGBClassifierEstimator#colsample_bylevel","value":1},{"id":"edge_2_3#XGBClassifierEstimator#colsample_bynode","value":1},{"id":"edge_2_3#XGBClassifierEstimator#colsample_bytree","value":1},{"id":"edge_2_3#XGBClassifierEstimator#gamma","value":0.5688236608721927},{"id":"edge_2_3#XGBClassifierEstimator#learning_rate","value":0.44739521075033195},{"id":"edge_2_3#XGBClassifierEstimator#max_delta_step","value":0},{"id":"edge_2_3#XGBClassifierEstimator#max_depth","value":4},{"id":"edge_2_3#XGBClassifierEstimator#min_child_weight","value":16},{"id":"edge_2_3#XGBClassifierEstimator#missing","value":null},{"id":"edge_2_3#XGBClassifierEstimator#n_estimators","value":1421},{"id":"edge_2_3#XGBClassifierEstimator#n_jobs","value":4},{"id":"edge_2_3#XGBClassifierEstimator#nthread","value":null},{"id":"edge_2_3#XGBClassifierEstimator#objective","value":"edge_2_3#XGBClassifierEstimator#objective#binary:logistic"},{"id":"edge_2_3#XGBClassifierEstimator#random_state","value":33},{"id":"edge_2_3#XGBClassifierEstimator#reg_alpha","value":0.7269547234261232},{"id":"edge_2_3#XGBClassifierEstimator#reg_lambda","value":0.44971282292875703},{"id":"edge_2_3#XGBClassifierEstimator#scale_pos_weight","value":1},{"id":"edge_2_3#XGBClassifierEstimator#seed","value":null},{"id":"edge_2_3#XGBClassifierEstimator#silent","value":null},{"id":"edge_2_3#XGBClassifierEstimator#subsample","value":0.9282179121400542},{"id":"edge_2_3#XGBClassifierEstimator#tree_method","value":"edge_2_3#XGBClassifierEstimator#tree_method#hist"},{"id":"edge_2_3#XGBClassifierEstimator#verbosity","value":1}]},{"id":"AvgPredTime","value":0.0054659031266055536},{"id":"FalsePositiveRate","value":0.10625},{"id":"PipelineSizeInMemory","value":0.007259368896484375},{"id":"AbsStatisticalParityDiff","value":0.08441013592884716},{"id":"AbsErrorRateDiff","value":0.01023661688202715},{"id":"training_accuracy","value":0.75625},{"id":"training_average_precision","value":0.5417546058802697},{"id":"training_f1","value":0.8296943231441047},{"id":"training_precision","value":0.811965811965812},{"id":"training_recall","value":0.8482142857142857},{"id":"training_roc_auc","value":0.8058035714285714},{"id":"training_neg_log_loss","value":-0.498449661579798},{"id":"training_normalized_gini_coefficient","value":0.4516369047619053}],"css_class":" edge_color_1"},{"id":"P3","selections":[{"id":"pipeline_ids","value":"3"},{"id":"edge_0_1","value":"edge_0_1#null"},{"id":"edge_1_2","value":"edge_1_2#null"},{"id":"edge_2_3","value":"edge_2_3#XGBClassifierEstimator","selections":[{"id":"edge_2_3#XGBClassifierEstimator#base_score","value":0.5},{"id":"edge_2_3#XGBClassifierEstimator#booster","value":"edge_2_3#XGBClassifierEstimator#booster#gbtree"},{"id":"edge_2_3#XGBClassifierEstimator#colsample_bylevel","value":1},{"id":"edge_2_3#XGBClassifierEstimator#colsample_bynode","value":1},{"id":"edge_2_3#XGBClassifierEstimator#colsample_bytree","value":1},{"id":"edge_2_3#XGBClassifierEstimator#gamma","value":0.14553898038471702},{"id":"edge_2_3#XGBClassifierEstimator#learning_rate","value":0.6866813207862563},{"id":"edge_2_3#XGBClassifierEstimator#max_delta_step","value":0},{"id":"edge_2_3#XGBClassifierEstimator#max_depth","value":3},{"id":"edge_2_3#XGBClassifierEstimator#min_child_weight","value":2},{"id":"edge_2_3#XGBClassifierEstimator#missing","value":null},{"id":"edge_2_3#XGBClassifierEstimator#n_estimators","value":1311},{"id":"edge_2_3#XGBClassifierEstimator#n_jobs","value":4},{"id":"edge_2_3#XGBClassifierEstimator#nthread","value":null},{"id":"edge_2_3#XGBClassifierEstimator#objective","value":"edge_2_3#XGBClassifierEstimator#objective#binary:logistic"},{"id":"edge_2_3#XGBClassifierEstimator#random_state","value":33},{"id":"edge_2_3#XGBClassifierEstimator#reg_alpha","value":0.07755703165907102},{"id":"edge_2_3#XGBClassifierEstimator#reg_lambda","value":0.6646459050094647},{"id":"edge_2_3#XGBClassifierEstimator#scale_pos_weight","value":1},{"id":"edge_2_3#XGBClassifierEstimator#seed","value":null},{"id":"edge_2_3#XGBClassifierEstimator#silent","value":null},{"id":"edge_2_3#XGBClassifierEstimator#subsample","value":0.018012970414051695},{"id":"edge_2_3#XGBClassifierEstimator#tree_method","value":"edge_2_3#XGBClassifierEstimator#tree_method#hist"},{"id":"edge_2_3#XGBClassifierEstimator#verbosity","value":1}]},{"id":"AvgPredTime","value":0.006331484370821272},{"id":"FalsePositiveRate","value":0.08125},{"id":"PipelineSizeInMemory","value":0.007259368896484375},{"id":"AbsStatisticalParityDiff","value":0.03691894613190139},{"id":"AbsErrorRateDiff","value":0.19030038597080046},{"id":"training_accuracy","value":0.6625},{"id":"training_average_precision","value":0.6447456928602899},{"id":"training_f1","value":0.7857142857142858},{"id":"training_precision","value":0.7071428571428572},{"id":"training_recall","value":0.8839285714285714},{"id":"training_roc_auc","value":0.6048177083333334},{"id":"training_neg_log_loss","value":-0.6469717403640971},{"id":"training_normalized_gini_coefficient","value":0.060639880952380466}],"css_class":" edge_color_1"},{"id":"P4","selections":[{"id":"pipeline_ids","value":"4"},{"id":"edge_0_1","value":"edge_0_1#null"},{"id":"edge_1_2","value":"edge_1_2#null"},{"id":"edge_2_3","value":"edge_2_3#XGBClassifierEstimator","selections":[{"id":"edge_2_3#XGBClassifierEstimator#base_score","value":0.5},{"id":"edge_2_3#XGBClassifierEstimator#booster","value":"edge_2_3#XGBClassifierEstimator#booster#gbtree"},{"id":"edge_2_3#XGBClassifierEstimator#colsample_bylevel","value":1},{"id":"edge_2_3#XGBClassifierEstimator#colsample_bynode","value":1},{"id":"edge_2_3#XGBClassifierEstimator#colsample_bytree","value":1},{"id":"edge_2_3#XGBClassifierEstimator#gamma","value":0.40498138251173343},{"id":"edge_2_3#XGBClassifierEstimator#learning_rate","value":0.39093041983298},{"id":"edge_2_3#XGBClassifierEstimator#max_delta_step","value":0},{"id":"edge_2_3#XGBClassifierEstimator#max_depth","value":19},{"id":"edge_2_3#XGBClassifierEstimator#min_child_weight","value":15},{"id":"edge_2_3#XGBClassifierEstimator#missing","value":null},{"id":"edge_2_3#XGBClassifierEstimator#n_estimators","value":1159},{"id":"edge_2_3#XGBClassifierEstimator#n_jobs","value":4},{"id":"edge_2_3#XGBClassifierEstimator#nthread","value":null},{"id":"edge_2_3#XGBClassifierEstimator#objective","value":"edge_2_3#XGBClassifierEstimator#objective#binary:logistic"},{"id":"edge_2_3#XGBClassifierEstimator#random_state","value":33},{"id":"edge_2_3#XGBClassifierEstimator#reg_alpha","value":0.258295899120885},{"id":"edge_2_3#XGBClassifierEstimator#reg_lambda","value":0.21686187299319623},{"id":"edge_2_3#XGBClassifierEstimator#scale_pos_weight","value":1},{"id":"edge_2_3#XGBClassifierEstimator#seed","value":null},{"id":"edge_2_3#XGBClassifierEstimator#silent","value":null},{"id":"edge_2_3#XGBClassifierEstimator#subsample","value":0.4983935850591545},{"id":"edge_2_3#XGBClassifierEstimator#tree_method","value":"edge_2_3#XGBClassifierEstimator#tree_method#hist"},{"id":"edge_2_3#XGBClassifierEstimator#verbosity","value":1}]},{"id":"AvgPredTime","value":0.0051095506245474095},{"id":"FalsePositiveRate","value":0.09375},{"id":"PipelineSizeInMemory","value":0.007259368896484375},{"id":"AbsStatisticalParityDiff","value":0.01023661688202715},{"id":"AbsErrorRateDiff","value":0.016613525759355596},{"id":"training_accuracy","value":0.75625},{"id":"training_average_precision","value":0.5571729363378015},{"id":"training_f1","value":0.8326180257510729},{"id":"training_precision","value":0.8016528925619835},{"id":"training_recall","value":0.8660714285714286},{"id":"training_roc_auc","value":0.7686011904761906},{"id":"training_neg_log_loss","value":-0.5254008594783954},{"id":"training_normalized_gini_coefficient","value":0.4017857142857145}],"css_class":" edge_color_1"},{"id":"P5","selections":[{"id":"pipeline_ids","value":"5"},{"id":"edge_0_1","value":"edge_0_1#null"},{"id":"edge_1_2","value":"edge_1_2#null"},{"id":"edge_2_3","value":"edge_2_3#XGBClassifierEstimator","selections":[{"id":"edge_2_3#XGBClassifierEstimator#base_score","value":0.5},{"id":"edge_2_3#XGBClassifierEstimator#booster","value":"edge_2_3#XGBClassifierEstimator#booster#gbtree"},{"id":"edge_2_3#XGBClassifierEstimator#colsample_bylevel","value":1},{"id":"edge_2_3#XGBClassifierEstimator#colsample_bynode","value":1},{"id":"edge_2_3#XGBClassifierEstimator#colsample_bytree","value":1},{"id":"edge_2_3#XGBClassifierEstimator#gamma","value":0.6791355408657477},{"id":"edge_2_3#XGBClassifierEstimator#learning_rate","value":0.03770494520858073},{"id":"edge_2_3#XGBClassifierEstimator#max_delta_step","value":0},{"id":"edge_2_3#XGBClassifierEstimator#max_depth","value":8},{"id":"edge_2_3#XGBClassifierEstimator#min_child_weight","value":7},{"id":"edge_2_3#XGBClassifierEstimator#missing","value":null},{"id":"edge_2_3#XGBClassifierEstimator#n_estimators","value":1371},{"id":"edge_2_3#XGBClassifierEstimator#n_jobs","value":4},{"id":"edge_2_3#XGBClassifierEstimator#nthread","value":null},{"id":"edge_2_3#XGBClassifierEstimator#objective","value":"edge_2_3#XGBClassifierEstimator#objective#binary:logistic"},{"id":"edge_2_3#XGBClassifierEstimator#random_state","value":33},{"id":"edge_2_3#XGBClassifierEstimator#reg_alpha","value":0.7692431735823964},{"id":"edge_2_3#XGBClassifierEstimator#reg_lambda","value":0.8955717451620936},{"id":"edge_2_3#XGBClassifierEstimator#scale_pos_weight","value":1},{"id":"edge_2_3#XGBClassifierEstimator#seed","value":null},{"id":"edge_2_3#XGBClassifierEstimator#silent","value":null},{"id":"edge_2_3#XGBClassifierEstimator#subsample","value":0.9596293922078158},{"id":"edge_2_3#XGBClassifierEstimator#tree_method","value":"edge_2_3#XGBClassifierEstimator#tree_method#hist"},{"id":"edge_2_3#XGBClassifierEstimator#verbosity","value":1}]},{"id":"AvgPredTime","value":0.005473995002103038},{"id":"FalsePositiveRate","value":0.09375},{"id":"PipelineSizeInMemory","value":0.007259368896484375},{"id":"AbsStatisticalParityDiff","value":0.1339150864238967},{"id":"AbsErrorRateDiff","value":0.02013760698103706},{"id":"training_accuracy","value":0.75},{"id":"training_average_precision","value":0.5364409711157848},{"id":"training_f1","value":0.829059829059829},{"id":"training_precision","value":0.7950819672131147},{"id":"training_recall","value":0.8660714285714286},{"id":"training_roc_auc","value":0.8115699404761905},{"id":"training_neg_log_loss","value":-0.47199894601944836},{"id":"training_normalized_gini_coefficient","value":0.3560267857142854}],"css_class":" edge_color_1"},{"id":"P6","selections":[{"id":"pipeline_ids","value":"6"},{"id":"edge_0_1","value":"edge_0_1#QuantileTransformerTransformer","selections":[{"id":"edge_0_1#QuantileTransformerTransformer#copy","value":true},{"id":"edge_0_1#QuantileTransformerTransformer#ignore_implicit_zeros","value":false},{"id":"edge_0_1#QuantileTransformerTransformer#n_quantiles","value":903},{"id":"edge_0_1#QuantileTransformerTransformer#output_distribution","value":"edge_0_1#QuantileTransformerTransformer#output_distribution#normal"},{"id":"edge_0_1#QuantileTransformerTransformer#random_state","value":33},{"id":"edge_0_1#QuantileTransformerTransformer#subsample","value":100000}]},{"id":"edge_1_2","value":"edge_1_2#RBFSamplerTransformer","selections":[{"id":"edge_1_2#RBFSamplerTransformer#gamma","value":4.9798122091558765},{"id":"edge_1_2#RBFSamplerTransformer#n_components","value":177},{"id":"edge_1_2#RBFSamplerTransformer#random_state","value":33}]},{"id":"edge_2_3","value":"edge_2_3#ExtraTreesClassifierEstimator","selections":[{"id":"edge_2_3#ExtraTreesClassifierEstimator#bootstrap","value":true},{"id":"edge_2_3#ExtraTreesClassifierEstimator#class_weight","value":"edge_2_3#ExtraTreesClassifierEstimator#class_weight#balanced"},{"id":"edge_2_3#ExtraTreesClassifierEstimator#coalesced_oob_score_bootstrap","value":0},{"id":"edge_2_3#ExtraTreesClassifierEstimator#criterion","value":"edge_2_3#ExtraTreesClassifierEstimator#criterion#entropy"},{"id":"edge_2_3#ExtraTreesClassifierEstimator#max_depth","value":null},{"id":"edge_2_3#ExtraTreesClassifierEstimator#max_features","value":0.20567588577022533},{"id":"edge_2_3#ExtraTreesClassifierEstimator#max_leaf_nodes","value":null},{"id":"edge_2_3#ExtraTreesClassifierEstimator#min_impurity_decrease","value":0},{"id":"edge_2_3#ExtraTreesClassifierEstimator#min_impurity_split","value":null},{"id":"edge_2_3#ExtraTreesClassifierEstimator#min_samples_leaf","value":12},{"id":"edge_2_3#ExtraTreesClassifierEstimator#min_samples_split","value":4},{"id":"edge_2_3#ExtraTreesClassifierEstimator#min_weight_fraction_leaf","value":0},{"id":"edge_2_3#ExtraTreesClassifierEstimator#n_estimators","value":99},{"id":"edge_2_3#ExtraTreesClassifierEstimator#n_jobs","value":4},{"id":"edge_2_3#ExtraTreesClassifierEstimator#oob_score","value":true},{"id":"edge_2_3#ExtraTreesClassifierEstimator#random_state","value":33},{"id":"edge_2_3#ExtraTreesClassifierEstimator#verbose","value":0},{"id":"edge_2_3#ExtraTreesClassifierEstimator#warm_start","value":false}]},{"id":"AvgPredTime","value":0.1352155787513766},{"id":"FalsePositiveRate","value":0.03125},{"id":"PipelineSizeInMemory","value":0.15279769897460938},{"id":"AbsStatisticalParityDiff","value":0.0013425071320690707},{"id":"AbsErrorRateDiff","value":0.20305420372545735},{"id":"training_accuracy","value":0.6875},{"id":"training_average_precision","value":0.6995189557805512},{"id":"training_f1","value":0.8106060606060607},{"id":"training_precision","value":0.7039473684210527},{"id":"training_recall","value":0.9553571428571429},{"id":"training_roc_auc","value":0.5345982142857143},{"id":"training_neg_log_loss","value":-0.6449931707900765},{"id":"training_normalized_gini_coefficient","value":0.018973214285714208}],"css_class":" edge_color_2"},{"id":"P7","selections":[{"id":"pipeline_ids","value":"7"},{"id":"edge_0_1","value":"edge_0_1#MinMaxScalerTransformer","selections":[{"id":"edge_0_1#MinMaxScalerTransformer#copy","value":true},{"id":"edge_0_1#MinMaxScalerTransformer#feature_range","value":"edge_0_1#MinMaxScalerTransformer#feature_range#0,1"}]},{"id":"edge_1_2","value":"edge_1_2#RBFSamplerTransformer","selections":[{"id":"edge_1_2#RBFSamplerTransformer#gamma","value":4.9798122091558765},{"id":"edge_1_2#RBFSamplerTransformer#n_components","value":177},{"id":"edge_1_2#RBFSamplerTransformer#random_state","value":33}]},{"id":"edge_2_3","value":"edge_2_3#QuadraticDiscriminantAnalysisEstimator","selections":[{"id":"edge_2_3#QuadraticDiscriminantAnalysisEstimator#priors","value":null},{"id":"edge_2_3#QuadraticDiscriminantAnalysisEstimator#reg_param","value":0.7819091491986683},{"id":"edge_2_3#QuadraticDiscriminantAnalysisEstimator#store_covariance","value":false},{"id":"edge_2_3#QuadraticDiscriminantAnalysisEstimator#store_covariances","value":null},{"id":"edge_2_3#QuadraticDiscriminantAnalysisEstimator#tol","value":0.0001}]},{"id":"AvgPredTime","value":0.004798707501322497},{"id":"FalsePositiveRate","value":0},{"id":"PipelineSizeInMemory","value":0.09076595306396484},{"id":"AbsStatisticalParityDiff","value":0},{"id":"AbsErrorRateDiff","value":0.1960060412820943},{"id":"training_accuracy","value":0.7},{"id":"training_average_precision","value":0.6842438017236612},{"id":"training_f1","value":0.8235294117647058},{"id":"training_precision","value":0.7},{"id":"training_recall","value":1},{"id":"training_roc_auc","value":0.5132068452380952},{"id":"training_neg_log_loss","value":-0.610778505866544},{"id":"training_normalized_gini_coefficient","value":0.017113095238094737}],"css_class":" edge_color_3"},{"id":"P8","selections":[{"id":"pipeline_ids","value":"8"},{"id":"edge_0_1","value":"edge_0_1#RobustScalerTransformer","selections":[{"id":"edge_0_1#RobustScalerTransformer#copy","value":true},{"id":"edge_0_1#RobustScalerTransformer#quantile_range","value":"edge_0_1#RobustScalerTransformer#quantile_range#25,75"},{"id":"edge_0_1#RobustScalerTransformer#with_centering","value":false},{"id":"edge_0_1#RobustScalerTransformer#with_scaling","value":false}]},{"id":"edge_1_2","value":"edge_1_2#PCATransformer","selections":[{"id":"edge_1_2#PCATransformer#copy","value":true},{"id":"edge_1_2#PCATransformer#iterated_power","value":"edge_1_2#PCATransformer#iterated_power#auto"},{"id":"edge_1_2#PCATransformer#n_components","value":0.9500015792319255},{"id":"edge_1_2#PCATransformer#random_state","value":33},{"id":"edge_1_2#PCATransformer#svd_solver","value":"edge_1_2#PCATransformer#svd_solver#auto"},{"id":"edge_1_2#PCATransformer#tol","value":0},{"id":"edge_1_2#PCATransformer#whiten","value":false}]},{"id":"edge_2_3","value":"edge_2_3#GaussianNBEstimator","selections":[{"id":"edge_2_3#GaussianNBEstimator#priors","value":null},{"id":"edge_2_3#GaussianNBEstimator#var_smoothing","value":1e-9}]},{"id":"AvgPredTime","value":0.003930353751638904},{"id":"FalsePositiveRate","value":0.025},{"id":"PipelineSizeInMemory","value":0.004113197326660156},{"id":"AbsStatisticalParityDiff","value":0.015438832018795146},{"id":"AbsErrorRateDiff","value":0.1550595737539856},{"id":"training_accuracy","value":0.725},{"id":"training_average_precision","value":0.5780338319625472},{"id":"training_f1","value":0.8307692307692307},{"id":"training_precision","value":0.7297297297297297},{"id":"training_recall","value":0.9642857142857143},{"id":"training_roc_auc","value":0.7189360119047619},{"id":"training_neg_log_loss","value":-0.5871876261738327},{"id":"training_normalized_gini_coefficient","value":0.1436011904761902}],"css_class":" edge_color_4"}]};
    //ds = data as _ds.Dataset;

    // init CPC component
    let config:CPCConfiguration = new CPCConfiguration();
    config.rootCollapsible = false;
    config.edgeRouting = true;
    config.preferredPrecision = 3;
    config.collapseOthersOnChoiceExpand = false;
    config.deselectOthersOnLineSelect = false;
    let cpc:CPC = new CPC("cpc", ds, config);

    $("a.toggleEditMode").click(function () {
        if(!cpc.isEditing()) {
            cpc.startEditing();
            console.log("draw line start");
            $(this).text("Stop draw line");
        } else {
            cpc.stopEditing(function (line:_ds.Line) {

                console.log("draw line end");

                let editLine:CPCLine = new CPCLine(cpc, line);
                cpc.pushLine(editLine);
                cpc.render();

                console.log(JSON.stringify(editLine.getSelections()));
            });
            $(this).text("Start draw linee");
        }
    });

    $("a.collapseAllChoices").click(function () {
        cpc.collapseAllChoices();
    });

    $("a.selectAllLines").click(function () {
        cpc.selectAllLines();
    });

    $("a.deselectAllLines").click(function () {
        cpc.deselectAllLines();
    });
});

